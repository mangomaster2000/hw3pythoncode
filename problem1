# imports
import networkx as nx
import matplotlib
# headless? hpc is tech headless right?
matplotlib.use('Agg')  
import matplotlib.pyplot as plt
import numpy as np
import gzip

# 1.1: Read the dataset, convert to undirected, and extract the largest connected component (LCC)
filename = "twitter_combined.txt.gz"
with gzip.open(filename, 'rt') as f:
    G_directed = nx.read_edgelist(f, create_using=nx.DiGraph(), nodetype=int)

G_undirected = G_directed.to_undirected()

largest_cc = max(nx.connected_components(G_undirected), key=len)
G_lcc = G_undirected.subgraph(largest_cc).copy()
